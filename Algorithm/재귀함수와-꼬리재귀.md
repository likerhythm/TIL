## 재귀
> 컴퓨터 과학에서 재귀란 자신을 정의할 때 자기 자신을 재참조하는 방법을 말한다.

## 재귀함수
> 자기 자신을 호출하는 함수를 재귀함수라고 한다. 

[재귀함수의 장점과 단점 그리고 해결책](https://catsbi.oopy.io/dbcc8c79-4600-4655-b2e2-b76eb7309e60)

## 재귀함수의 장점과 단점

### 장점

- 재귀를 사용하지 않을 경우 현재 상태를 저장하는 변수가 따로 필요한데, 재귀를 사용하면 함수의 매개변수로 현재 상태를 전달하면 되므로 변수의 수가 줄어든다.
- while, for 반복문을 사용하지 않으므로 코드가 간결해진다.

### 단점

- 재귀 함수를 호출할 때마다 지역 변수, 매개 변수, 반환 값이 stack에 쌓이게 된다. 반면 while, for 반복문은 한 번 선언된 변수를 계속 사용한다. 메모리 사용량이 많은 재귀 함수는 성능을 떨어뜨릴 수 있다.
- 함수 호출 및 복귀를 위한 컨텍스트 스위칭이 발생하여 성능이 떨어진다.

## 재귀함수의 단점 해결 방법 - 꼬리 재귀(tail call recursion)

재귀 함수의 단점은 재귀 함수를 호출한 뒤 그 결과를 기다리는 과정의 반복으로 인해 stack에 부하가 걸린다는 것이다. 이는 **꼬리 재귀** 형태로 해결할 수 있다.

다음 코드를 보면 두 번째 `factorial` 함수는 반환부에 연산이 없고 재귀 함수의 결과만 반환한다. 컴파일러는 꼬리 재귀 최적화를 지원하여 이런 경우 내부적으로는 **반복문으로 변경되어 실행**된다.

```java
// Basic Recursion
int factorial(int n, int total) { 
    if (n == 1) { 
        return 1; 
    } 
    return n * factorial(n-1);
}

// Tail Recursion
int factorial(int n, int total) {
    if (n == 1) { 
        return 1; 
    } 
    return factorial(n - 1, n * total);
}
```